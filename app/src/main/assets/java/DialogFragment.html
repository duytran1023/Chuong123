<h2>MainActivity.java</h2>
<div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.support.v4.app.FragmentManager</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.support.v7.app.AppCompatActivity</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.os.Bundle</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.view.View</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">ExampleDialogFragment</span> <span style="color: #008800; font-weight: bold">extends</span> AppCompatActivity <span style="color: #333333">{</span> 
        <span style="color: #555555; font-weight: bold">@Override</span> 
        <span style="color: #008800; font-weight: bold">protected</span> <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">onCreate</span><span style="color: #333333">(</span>Bundle savedInstanceState<span style="color: #333333">)</span> <span style="color: #333333">{</span> 
            <span style="color: #008800; font-weight: bold">super</span><span style="color: #333333">.</span><span style="color: #0000CC">onCreate</span><span style="color: #333333">(</span>savedInstanceState<span style="color: #333333">);</span> 
            setContentView<span style="color: #333333">(</span>R<span style="color: #333333">.</span><span style="color: #0000CC">layout</span><span style="color: #333333">.</span><span style="color: #0000CC">example_dialog_fragment</span><span style="color: #333333">);</span> 
        <span style="color: #333333">}</span> 
        <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">showDailog</span><span style="color: #333333">(</span>View view<span style="color: #333333">)</span> <span style="color: #333333">{</span> 
            FragmentManager manager <span style="color: #333333">=</span> getSupportFragmentManager<span style="color: #333333">();</span> 
            MyDialogFragment myDialogFragment <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> MyDialogFragment<span style="color: #333333">();</span> 
            myDialogFragment<span style="color: #333333">.</span><span style="color: #0000CC">show</span><span style="color: #333333">(</span>manager<span style="color: #333333">,</span> <span style="background-color: #fff0f0">&quot;MyDialogFragment&quot;</span><span style="color: #333333">);</span> 
        <span style="color: #333333">}</span> 
    <span style="color: #333333">}</span>
    </pre></div>
<h2>MyDialogFragment.java</h2>
<div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.app.AlertDialog</span><span style="color: #333333">;</span>
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.app.Dialog</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.content.DialogInterface</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.os.Bundle</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.support.annotation.NonNull</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.support.annotation.Nullable</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.support.v4.app.DialogFragment</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">android.widget.Toast</span><span style="color: #333333">;</span> 
    <span style="color: #008800; font-weight: bold">public</span> <span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">MyDialogFragment</span> <span style="color: #008800; font-weight: bold">extends</span> DialogFragment <span style="color: #333333">{</span> 
        <span style="color: #555555; font-weight: bold">@NonNull</span> 
        <span style="color: #555555; font-weight: bold">@Override</span> 
        <span style="color: #008800; font-weight: bold">public</span> Dialog <span style="color: #0066BB; font-weight: bold">onCreateDialog</span><span style="color: #333333">(</span><span style="color: #555555; font-weight: bold">@Nullable</span> Bundle savedInstanceState<span style="color: #333333">)</span> <span style="color: #333333">{</span> 
            AlertDialog<span style="color: #333333">.</span><span style="color: #0000CC">Builder</span> builder <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> AlertDialog<span style="color: #333333">.</span><span style="color: #0000CC">Builder</span><span style="color: #333333">(</span>getActivity<span style="color: #333333">());</span> 
            builder<span style="color: #333333">.</span><span style="color: #0000CC">setTitle</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Dialog Fragment&quot;</span><span style="color: #333333">);</span> 
            builder<span style="color: #333333">.</span><span style="color: #0000CC">setMessage</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;Are you sure do you want to quit?&quot;</span><span style="color: #333333">);</span> 
            builder<span style="color: #333333">.</span><span style="color: #0000CC">setCancelable</span><span style="color: #333333">(</span><span style="color: #008800; font-weight: bold">false</span><span style="color: #333333">);</span> 
            builder<span style="color: #333333">.</span><span style="color: #0000CC">setPositiveButton</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;OK&quot;</span><span style="color: #333333">,</span> <span style="color: #008800; font-weight: bold">new</span> DialogInterface<span style="color: #333333">.</span><span style="color: #0000CC">OnClickListener</span><span style="color: #333333">()</span> <span style="color: #333333">{</span> 
                <span style="color: #555555; font-weight: bold">@Override</span> 
                <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">onClick</span><span style="color: #333333">(</span>DialogInterface dialog<span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">int</span> which<span style="color: #333333">)</span> <span style="color: #333333">{</span> 
                    Toast<span style="color: #333333">.</span><span style="color: #0000CC">makeText</span><span style="color: #333333">(</span>getActivity<span style="color: #333333">(),</span> <span style="background-color: #fff0f0">&quot;you clicked OK&quot;</span><span style="color: #333333">,</span> Toast<span style="color: #333333">.</span><span style="color: #0000CC">LENGTH_SHORT</span><span style="color: #333333">).</span><span style="color: #0000CC">show</span><span style="color: #333333">();</span> 
                    <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>getActivity<span style="color: #333333">()!=</span><span style="color: #008800; font-weight: bold">null</span><span style="color: #333333">){</span> 
                        getActivity<span style="color: #333333">().</span><span style="color: #0000CC">finish</span><span style="color: #333333">();</span> 
                    <span style="color: #333333">}</span> 
                <span style="color: #333333">}</span> 
                <span style="color: #333333">});</span> 
            builder<span style="color: #333333">.</span><span style="color: #0000CC">setNegativeButton</span><span style="color: #333333">(</span><span style="background-color: #fff0f0">&quot;CANCLE&quot;</span><span style="color: #333333">,</span> <span style="color: #008800; font-weight: bold">new</span> DialogInterface<span style="color: #333333">.</span><span style="color: #0000CC">OnClickListener</span><span style="color: #333333">()</span> <span style="color: #333333">{</span> 
                <span style="color: #555555; font-weight: bold">@Override</span>         
                <span style="color: #008800; font-weight: bold">public</span> <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">onClick</span><span style="color: #333333">(</span>DialogInterface dialog<span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">int</span> which<span style="color: #333333">)</span> <span style="color: #333333">{</span> 
                    Toast<span style="color: #333333">.</span><span style="color: #0000CC">makeText</span><span style="color: #333333">(</span>getActivity<span style="color: #333333">(),</span> <span style="background-color: #fff0f0">&quot;you clicked CANCLE&quot;</span><span style="color: #333333">,</span> Toast<span style="color: #333333">.</span><span style="color: #0000CC">LENGTH_SHORT</span><span style="color: #333333">).</span><span style="color: #0000CC">show</span><span style="color: #333333">();</span> 
                <span style="color: #333333">}</span> 
            <span style="color: #333333">});</span> 
            AlertDialog alertDialog <span style="color: #333333">=</span> builder<span style="color: #333333">.</span><span style="color: #0000CC">create</span><span style="color: #333333">();</span> 
            <span style="color: #008800; font-weight: bold">return</span> alertDialog<span style="color: #333333">;</span> 
        <span style="color: #333333">}</span> 
    <span style="color: #333333">}</span> 
    </pre></div>